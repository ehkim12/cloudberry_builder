# FILE NAME: gpinitsystem_multinode_fixed

# A configuration file is needed by the gpinitsystem utility.
# This sample file initializes a Apache Cloudberry Multi-node
# system with one coordinator and segments on multiple hosts.

################################################
# REQUIRED PARAMETERS
################################################

# A name for the array you are configuring. You can use any name you
# like. Enclose the name in quotes if the name contains spaces.

ARRAY_NAME="Sandbox: Apache Cloudberry Multi-node Cluster"

# This specifies the file that contains the list of segment host names
# that comprise the system. For a multi-node system, this
# file contains the segment host names.

MACHINE_LIST_FILE=/tmp/multinode-gpinit-hosts

# This specifies a prefix that will be used to name the data directories
# of the coordinator and segment instances. The naming convention for data
# directories in a Apache Cloudberry system is SEG_PREFIX<number>
# where <number> starts with 0 for segment instances and the coordinator
# is always -1.

SEG_PREFIX=gpseg

# Base port number on which primary segment instances will be
# started on a segment host. The base port number will be
# incremented by one for each segment instance started on a host.

PORT_BASE=40000

# This specifies the data storage location(s) where the script will
# create the primary segment data directories.

declare -a DATA_DIRECTORY=(/data0/database/primary)

# The OS-configured hostname of the Apache Cloudberry coordinator instance.

COORDINATOR_HOSTNAME=cdw

# The location where the data directory will be created on the
# coordinator host.

COORDINATOR_DIRECTORY=/data0/database/coordinator

# The port number for the coordinator instance. This is the port number
# that users and client connections will use when accessing the
# Apache Cloudberry system.

COORDINATOR_PORT=5432

# The shell the gpinitsystem script uses to execute
# commands on remote hosts. Allowed value is ssh.

TRUSTED_SHELL=ssh

# Maximum distance between automatic write ahead log (WAL)
# checkpoints, in log file segments (each segment is normally 16
# megabytes).

CHECK_POINT_SEGMENTS=8

# The character set encoding to use.

ENCODING=UNICODE

################################################
# OPTIONAL PARAMETERS
################################################

# Optional. Uncomment to create a database of this name after the
# system is initialized.

DATABASE_NAME=gpadmin

# Mirror configuration

MIRROR_PORT_BASE=50000
declare -a MIRROR_DATA_DIRECTORY=(/data0/database/mirror)